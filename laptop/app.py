# -*- coding: utf-8 -*-
"""Untitled20.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1eUU36m_dQC6x5a_-W-nDjbi29-YsXqgF
"""

import streamlit as st
import numpy as np
import pandas as pd
import tensorflow as tf
import joblib

# Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ù„ Ùˆ Ø§Ø³Ú©ÛŒÙ„Ø±
model = tf.keras.models.load_model("laptop_price_model.h5")
scaler = joblib.load("scaler.pkl")

st.set_page_config(page_title="Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù‚ÛŒÙ…Øª Ù„Ù¾â€ŒØªØ§Ù¾", layout="centered")

st.title("ğŸ’» Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù‚ÛŒÙ…Øª Ù„Ù¾â€ŒØªØ§Ù¾ Ø¨Ø§ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ø§Ø´ÛŒÙ†")
st.write("Ù„Ø·ÙØ§Ù‹ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù„Ù¾â€ŒØªØ§Ù¾ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯:")

# ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø±
inches = st.slider("ğŸ“ Ø§Ù†Ø¯Ø§Ø²Ù‡ ØµÙØ­Ù‡ (Inches)", 10.0, 20.0, 15.6)
ram = st.slider("ğŸ§  Ø±Ù… (GB)", 2, 64, 8)
weight = st.number_input("âš–ï¸ ÙˆØ²Ù† Ù„Ù¾â€ŒØªØ§Ù¾ (Ú©ÛŒÙ„ÙˆÚ¯Ø±Ù…)", 0.5, 5.0, 1.5)
memory = st.number_input("ğŸ’¾ Ø­Ø§ÙØ¸Ù‡ Ø°Ø®ÛŒØ±Ù‡â€ŒØ³Ø§Ø²ÛŒ (GB)", 128, 5000, 512)
cpu_brand = st.selectbox("ğŸ§® Ø¨Ø±Ù†Ø¯ Ù¾Ø±Ø¯Ø§Ø²Ù†Ø¯Ù‡", ['Intel', 'AMD', 'Samsung', 'Apple'])
gpu_brand = st.selectbox("ğŸ® Ø¨Ø±Ù†Ø¯ Ú©Ø§Ø±Øª Ú¯Ø±Ø§ÙÛŒÚ©", ['Intel', 'Nvidia', 'AMD'])

# Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¨Ù‡ Ø¹Ø¯Ø¯ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒØ´ÙˆØ¯ (Ø³Ø§Ø²Ú¯Ø§Ø± Ø¨Ø§ Ù…Ø¯Ù„)
cpu_map = {'Intel': 2, 'AMD': 0, 'Samsung': 3, 'Apple': 1}
gpu_map = {'Intel': 1, 'Nvidia': 2, 'AMD': 0}

cpu_code = cpu_map[cpu_brand]
gpu_code = gpu_map[gpu_brand]

# ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯ÛŒ Ùˆ Ø¨Ø±Ø¯Ù† Ø¨Ù‡ Ù…Ø¯Ù„
input_data = np.array([[inches, ram, weight, memory, cpu_code, gpu_code]])

# Ø§Ø³Ú©ÛŒÙ„ Ú©Ø±Ø¯Ù†
input_scaled = scaler.transform(input_data)

# Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ
if st.button("ğŸ“Š Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ Ù‚ÛŒÙ…Øª"):
    predicted_price = model.predict(input_scaled)[0][0]
    st.success(f"ğŸ’° Ù‚ÛŒÙ…Øª Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒâ€ŒØ´Ø¯Ù‡: {predicted_price:.2f} (Ù…Ù‚Ø¯Ø§Ø± Ù†Ø±Ù…Ø§Ù„â€ŒØ´Ø¯Ù‡)")
    st.caption("Ù†Ú©ØªÙ‡: Ù…Ù‚Ø¯Ø§Ø± Ù†Ù‡Ø§ÛŒÛŒ Ù†Ø±Ù…Ø§Ù„â€ŒØ´Ø¯Ù‡ Ø§Ø³Øª Ú†ÙˆÙ† Ø¨Ø±Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ Ø§Ø² PowerTransformer Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡.")
